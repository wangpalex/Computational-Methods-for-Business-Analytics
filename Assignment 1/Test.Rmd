---
title: "Test"
author: "Wang Pei"
date: "2/8/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Q1

### I. Which of the 4 data violate(s) the rank condition in OLS regression?
\begin{equation*}
A = 
\begin{bmatrix}
1 & 1 \\
2 & 2
\end{bmatrix}

B = 
\begin{bmatrix}
1 & 1 \\
2 & 2 \\
1 & 2
\end{bmatrix}

C = 
\begin{bmatrix}
1 & 1 \\
2 & 0
\end{bmatrix}
D = 
\begin{bmatrix}
1 & 2 & 3 \\
2 & 0 & 2
\end{bmatrix}
\end{equation*}

The full assumption can be denoted by rank(X) = k, where X is an n x k matrix, n observations, k independent variables. Thus, full rank assumption can be interpreted as: all the columns are linearly independent. In other words, all independent variables (including the constant) are linearly independent.

```{r Q1-1}
library(Matrix) # Matrix operations
library(MASS) # For Moore-Penrose pseudo-inverse ginv()
A = matrix(c(1,1,2,2),nrow=2)
B = matrix(c(1,1,2,2,1,2),nrow=3)
C = matrix(c(1,1,2,0),nrow=2)
D = matrix(c(1,2,3,2,0,2),nrow=3)
rankMatrix(A)
rankMatrix(B)
rankMatrix(C)
rankMatrix(D)
```
A: This is a square matrix. The matrix A can be reduced to
\begin{equation*}
A' = 
\begin{bmatrix}
1 & 0 \\
1 & 0
\end{bmatrix}
\end{equation*}
The reduced form has one zero column. The two columns are linearly dependent and $Rank(A) = 1 \neq 2$. Therefore, A is not full column rank and A violates rank condition in OLS regression.

B: This is a non-square matrix. The matrix B can be reduced to
\begin{equation*}
B' = 
\begin{bmatrix}
1 & 0 \\
2 & 0 \\
1 & 1
\end{bmatrix}
\end{equation*}
The reduced form does not have zero column. Therefore, two columns are linearly independent and $Rank(B) = 2$. Thus, B is full column rank and does not violate rank condition in OLS regression.

C: This is a square matrix. The matrix C can be reduced to
\begin{equation*}
C' = 
\begin{bmatrix}
1 & 0 \\
2 & -2
\end{bmatrix}
\end{equation*}
The reduced form does not have zero column. Therefore, two columns are linearly independent and $Rank(C) = 2$. Thus, C is full column rank and does not violate rank condition in OLS regression.


D: This is a non-square matrix. The matrix D can be reduced to
\begin{equation*}
D' = 
\begin{bmatrix}
1 & 0 & 0 \\
2 & -4 & 0
\end{bmatrix}
\end{equation*}
